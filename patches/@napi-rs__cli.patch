diff --git a/dist/cli.js b/dist/cli.js
index f34170384d379ac5574fec2fa56ebb8571ddfa3e..d8c20bbb2c0f17db8e26a5456d86df78da7ae951 100755
--- a/dist/cli.js
+++ b/dist/cli.js
@@ -1639,9 +1639,12 @@ var Builder = class {
 		const wasmBinaryName = await this.copyArtifact();
 		if (this.cdyLibName) {
 			const idents = await this.generateTypeDef();
-			const jsOutput = await this.writeJsBinding(idents);
+			const jsOutputCjs = await this.writeJsBinding(idents, false);
+			const jsOutputEsm = await this.writeJsBinding(idents, true);
 			const wasmBindingsOutput = await this.writeWasiBinding(wasmBinaryName, idents);
-			if (jsOutput) this.outputs.push(jsOutput);
+			if (jsOutputCjs) this.outputs.push(jsOutputCjs);
+			if (jsOutputEsm) this.outputs.push(jsOutputEsm);
+
 			if (wasmBindingsOutput) this.outputs.push(...wasmBindingsOutput);
 		}
 		return this.outputs;
@@ -1734,13 +1737,13 @@ var Builder = class {
 		}
 		return exports$1;
 	}
-	async writeJsBinding(idents) {
+	async writeJsBinding(idents, esm) {
 		return writeJsBinding({
 			platform: this.options.platform,
 			noJsBinding: this.options.noJsBinding,
 			idents,
 			jsBinding: this.options.jsBinding,
-			esm: this.options.esm,
+			esm: esm,
 			binaryName: this.config.binaryName,
 			packageName: this.config.packageName,
 			version: process.env.npm_new_version ?? this.config.packageJson.version,
@@ -1793,8 +1796,8 @@ var Builder = class {
 };
 async function writeJsBinding(options) {
 	if (!options.platform || options.noJsBinding || options.idents.length === 0) return;
-	const name$1 = options.jsBinding ?? "index.js";
-	const binding = (options.esm ? createEsmBinding : createCjsBinding)(options.binaryName, options.packageName, options.idents, options.version);
+	const name$1 = options.jsBinding ?? (options.esm? "index.mjs": "index.cjs");
+	const binding = (options.esm ? createEsmBinding : createCjsBinding)(options.binaryName, options.packageName, options.idents, options.version);
 	try {
 		const dest = join(options.outputDir, name$1);
 		debug$7("Writing js binding to:");
